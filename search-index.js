crystal_doc_search_index_callback({"repository_name":"github.com/Blacksmoke16/oq","body":"# oq\n\n[![Built with Crystal](https://img.shields.io/badge/built%20with-crystal-000000.svg?style=flat-square)](https://crystal-lang.org/)\n[![Build Status](https://travis-ci.org/Blacksmoke16/oq.svg?branch=master)](https://travis-ci.org/Blacksmoke16/oq)\n[![Latest release](https://img.shields.io/github/release/Blacksmoke16/oq.svg?style=flat-square)](https://github.com/Blacksmoke16/oq/releases)\n[![oq](https://snapcraft.io/oq/badge.svg)](https://snapcraft.io/oq)\n\nA performant, portable `jq` wrapper thats facilitates the consumption and output of formats other than JSON; using `jq` filters to transform the data.\n\n* Compiles to a single binary for easy portability.\n* Performant, similar performance with JSON data compared to `jq`.  Slightly longer execution time when going to/from a non-JSON format.  \n\n## Installation\n\n### Linux via `snap`:\n\nFor more on installing & using `snap` with your Linux distribution, see the [official documentation](https://docs.snapcraft.io/installing-snapd).\n\n```bash\nsnap install oq\n```\n\n### MacOS: (Soon)\n\n```bash\nbrew install oq\n```\n\n### From Source:\n\nIf building from source, `jq` will need to be installed separately. Installation instructions can be found in the [official documentation](https://stedolan.github.io/jq/).\n\nRequires Crystal to be installed, see the [installation documentation](https://crystal-lang.org/reference/installation/).\n\n```bash\ngit clone https://github.com/Blacksmoke16/oq.git\ncd oq/\nshards build --production\n```\n\nThe built binary will be available as `./bin/oq`.  This can be relocated elsewhere on your machine; be sure it is in your `PATH` to access it as `oq`.\n\n## Usage\n\n### CLI\n\nUse the `oq` binary, with a few optional custom arguments.  All other arguments get passed to `jq`.\n\n```bash\nUsage: oq [--help] [oq-arguments] [jq-arguments] jq_filter [file [files...]]\n    --help                          Show this help message.\n    -i FORMAT, --input FORMAT       Format of the input data. Supported formats: json, yaml.\n    -o FORMAT, --output FORMAT      Format of the output data. Supported formats: json, yaml, xml.\n    --xml-root ROOT                 Name of the root XML element if converting to XML.\n```\n\n### Serialization\n\nCrystal applications can `require \"oq/to_xml\"` in order to use the `#to_xml` method to serialize objects to XML.\n\n```crystal\nrequire \"oq/to_xml\"\n\nhash = {\"name\": \"Jim\"}\n\nputs hash.to_xml\n# <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n# <root>\n#   <name>Jim</name>\n# </root>\n```\n\n## Roadmap\n\nPlans for `1.0.0`:\n\n* XML input format\n* Address bugs/issues that arise\n* Small feature requests\n* Possibly additional formats\n\n## Contributing\n\n1. Fork it (<https://github.com/Blacksmoke16/oq/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Blacksmoke16](https://github.com/Blacksmoke16) Blacksmoke16 - creator, maintainer\n- [sprngr](https://github.com/sprngr) Michael Springer - contributor\n","program":{"html_id":"github.com/Blacksmoke16/oq/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/Blacksmoke16/oq","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/Blacksmoke16/oq/Oq","path":"Oq.html","kind":"module","full_name":"Oq","name":"Oq","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"oq.cr","line_number":7,"url":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr"},{"filename":"oq_cli.cr","line_number":5,"url":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq_cli.cr"}],"repository_name":"github.com/Blacksmoke16/oq","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"A performant and portable jq wrapper to support formats other than JSON.","summary":"<p>A performant and portable jq wrapper to support formats other than JSON.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/Blacksmoke16/oq/Oq/Format","path":"Oq/Format.html","kind":"enum","full_name":"Oq::Format","name":"Format","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/Blacksmoke16/oq/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/Blacksmoke16/oq/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/Blacksmoke16/oq/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/Blacksmoke16/oq/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"oq.cr","line_number":9,"url":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr"}],"repository_name":"github.com/Blacksmoke16/oq","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"Json","name":"Json","value":"0","doc":null,"summary":null},{"id":"Yaml","name":"Yaml","value":"1","doc":null,"summary":null},{"id":"Xml","name":"Xml","value":"2","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/Blacksmoke16/oq/Oq","kind":"module","full_name":"Oq","name":"Oq"},"doc":"The support formats that can be converted to/from.","summary":"<p>The support formats that can be converted to/from.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"json?-instance-method","html_id":"json?-instance-method","name":"json?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L10","def":{"name":"json?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Json"}},{"id":"xml?-instance-method","html_id":"xml?-instance-method","name":"xml?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L12","def":{"name":"xml?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Xml"}},{"id":"yaml?-instance-method","html_id":"yaml?-instance-method","name":"yaml?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L11","def":{"name":"yaml?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Yaml"}}],"macros":[],"types":[]},{"html_id":"github.com/Blacksmoke16/oq/Oq/Processor","path":"Oq/Processor.html","kind":"struct","full_name":"Oq::Processor","name":"Processor","abstract":false,"superclass":{"html_id":"github.com/Blacksmoke16/oq/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/Blacksmoke16/oq/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/Blacksmoke16/oq/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/Blacksmoke16/oq/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"oq.cr","line_number":15,"url":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr"}],"repository_name":"github.com/Blacksmoke16/oq","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/Blacksmoke16/oq/Oq","kind":"module","full_name":"Oq","name":"Oq"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L15","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"id":"args:Array(String)-instance-method","html_id":"args:Array(String)-instance-method","name":"args","doc":"The args passed to the program.\n\nNon `oq` args are just passed to `jq`.","summary":"<p>The args passed to the program.</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L27","def":{"name":"args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@args"}},{"id":"args=(args:Array(String))-instance-method","html_id":"args=(args:Array(String))-instance-method","name":"args=","doc":"The args passed to the program.\n\nNon `oq` args are just passed to `jq`.","summary":"<p>The args passed to the program.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(String)"}],"args_string":"(args : Array(String))","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L31","def":{"name":"args=","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"Array(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@args = args"}},{"id":"indent:Int32-instance-method","html_id":"indent:Int32-instance-method","name":"indent","doc":"The number of spaces to use for indentation.","summary":"<p>The number of spaces to use for indentation.</p>","abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L33","def":{"name":"indent","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"@indent"}},{"id":"indent=(indent:Int32)-instance-method","html_id":"indent=(indent:Int32)-instance-method","name":"indent=","doc":"The number of spaces to use for indentation.","summary":"<p>The number of spaces to use for indentation.</p>","abstract":false,"args":[{"name":"indent","doc":null,"default_value":"","external_name":"indent","restriction":"Int32"}],"args_string":"(indent : Int32)","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L37","def":{"name":"indent=","args":[{"name":"indent","doc":null,"default_value":"","external_name":"indent","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@indent = indent"}},{"id":"input_format:Format-instance-method","html_id":"input_format:Format-instance-method","name":"input_format","doc":"The format that the input data is in.","summary":"<p>The format that the input data is in.</p>","abstract":false,"args":[],"args_string":" : Format","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L19","def":{"name":"input_format","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Format","visibility":"Public","body":"@input_format"}},{"id":"input_format=(input_format:Format)-instance-method","html_id":"input_format=(input_format:Format)-instance-method","name":"input_format=","doc":"The format that the input data is in.","summary":"<p>The format that the input data is in.</p>","abstract":false,"args":[{"name":"input_format","doc":null,"default_value":"","external_name":"input_format","restriction":"Format"}],"args_string":"(input_format : Format)","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L23","def":{"name":"input_format=","args":[{"name":"input_format","doc":null,"default_value":"","external_name":"input_format","restriction":"Format"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@input_format = input_format"}},{"id":"output_format:Format-instance-method","html_id":"output_format:Format-instance-method","name":"output_format","doc":"The format that the output should be transcoded into.","summary":"<p>The format that the output should be transcoded into.</p>","abstract":false,"args":[],"args_string":" : Format","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L22","def":{"name":"output_format","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Format","visibility":"Public","body":"@output_format"}},{"id":"output_format=(output_format:Format)-instance-method","html_id":"output_format=(output_format:Format)-instance-method","name":"output_format=","doc":"The format that the output should be transcoded into.","summary":"<p>The format that the output should be transcoded into.</p>","abstract":false,"args":[{"name":"output_format","doc":null,"default_value":"","external_name":"output_format","restriction":"Format"}],"args_string":"(output_format : Format)","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L26","def":{"name":"output_format=","args":[{"name":"output_format","doc":null,"default_value":"","external_name":"output_format","restriction":"Format"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@output_format = output_format"}},{"id":"process:Nil-instance-method","html_id":"process:Nil-instance-method","name":"process","doc":"Consume the input, convert the input to JSON if needed, pass the input/args to `jq`, then convert the output if needed.","summary":"<p>Consume the input, convert the input to JSON if needed, pass the input/args to <code>jq</code>, then convert the output if needed.</p>","abstract":false,"args":[],"args_string":" : Nil","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L42","def":{"name":"process","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"begin\n  ARGV.replace(ARGV - @args)\n  if ARGV.empty?\n  else\n    @args << ARGV.shift\n  end\n  run_jq(input: get_input, output: get_output)\n  format_output\nrescue ex\n  puts(\"oq error: #{ex.message}\")\n  exit(1)\nend"}},{"id":"xml_root:String-instance-method","html_id":"xml_root:String-instance-method","name":"xml_root","doc":"The root of the XML document when transcoding to XML.","summary":"<p>The root of the XML document when transcoding to XML.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L30","def":{"name":"xml_root","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@xml_root"}},{"id":"xml_root=(xml_root:String)-instance-method","html_id":"xml_root=(xml_root:String)-instance-method","name":"xml_root=","doc":"The root of the XML document when transcoding to XML.","summary":"<p>The root of the XML document when transcoding to XML.</p>","abstract":false,"args":[{"name":"xml_root","doc":null,"default_value":"","external_name":"xml_root","restriction":"String"}],"args_string":"(xml_root : String)","source_link":"https://github.com/Blacksmoke16/oq/blob/e5b400a1d7db8dc332e32835e389e006fb2e4417/src/oq.cr#L34","def":{"name":"xml_root=","args":[{"name":"xml_root","doc":null,"default_value":"","external_name":"xml_root","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@xml_root = xml_root"}}],"macros":[],"types":[]}]}]}})